2013-03-11 11:43:16,031 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - *** beforeSuite ***
2013-03-11 11:43:16,032 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - *** setupElasticsearchServer ***
2013-03-11 11:43:41,012 INFO  org.elasticsearch.node  - [Lifter] {0.20.5}[61008]: initializing ...
2013-03-11 11:43:41,204 INFO  org.elasticsearch.plugins  - [Lifter] loaded [river-mongodb, mapper-attachments, lang-javascript], sites []
2013-03-11 11:43:42,401 INFO  org.elasticsearch.node  - [Lifter] {0.20.5}[61008]: initialized
2013-03-11 11:43:42,401 INFO  org.elasticsearch.node  - [Lifter] {0.20.5}[61008]: starting ...
2013-03-11 11:43:42,406 INFO  org.elasticsearch.transport  - [Lifter] bound_address {local[1]}, publish_address {local[1]}
2013-03-11 11:43:42,411 INFO  org.elasticsearch.cluster.service  - [Lifter] new_master [Lifter][1][local[1]]{local=true}, reason: local-disco-initial_connect(master)
2013-03-11 11:43:42,414 INFO  org.elasticsearch.discovery  - [Lifter] test-cluster-SKIPPER-WIN7-2/192.168.60.1/1
2013-03-11 11:43:42,429 INFO  org.elasticsearch.gateway  - [Lifter] recovered [0] indices into cluster_state
2013-03-11 11:43:42,824 INFO  org.elasticsearch.http  - [Lifter] bound_address {inet[/0:0:0:0:0:0:0:0:9200]}, publish_address {inet[/192.168.1.146:9200]}
2013-03-11 11:43:42,825 INFO  org.elasticsearch.node  - [Lifter] {0.20.5}[61008]: started
2013-03-11 11:43:42,825 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - *** initMongoInstances ***
2013-03-11 11:44:49,487 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Server #1: localhost:37017
2013-03-11 11:44:49,487 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Server #2: localhost:37018
2013-03-11 11:44:49,487 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Server #3: localhost:37019
2013-03-11 11:44:51,718 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - isMaster: { "serverUsed" : "localhost/127.0.0.1:37017" , "ismaster" : false , "secondary" : false , "info" : "can't get local.system.replset config from self or any seed (EMPTYCONFIG)" , "isreplicaset" : true , "maxBsonObjectSize" : 16777216 , "localTime" : { "$date" : "2013-03-11T15:44:51.707Z"} , "ok" : 1.0}
2013-03-11 11:44:52,065 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetInitiate: { "serverUsed" : "localhost/127.0.0.1:37017" , "info" : "Config now saved locally.  Should come online in about a minute." , "ok" : 1.0}
2013-03-11 11:44:57,066 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "startupStatus" : 6 , "errmsg" : "Received replSetInitiate - should come online shortly." , "ok" : 0.0}
2013-03-11 11:44:57,067 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Waiting for 3 seconds...
2013-03-11 11:44:58,071 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-03-11T15:44:58.000Z"} , "myState" : 5 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 11 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 6 , "stateStr" : "UNKNOWN" , "uptime" : 1 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:44:57.000Z"} , "pingMs" : 1 , "errmsg" : "still initializing"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 6 , "stateStr" : "UNKNOWN" , "uptime" : 1 , "lastHeartbeat" : { "$date" : "2013-03-11T15:44:57.000Z"} , "pingMs" : 1 , "errmsg" : "still initializing"}] , "ok" : 1.0}
2013-03-11 11:44:58,072 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 11 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true}
2013-03-11 11:44:58,072 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 5
2013-03-11 11:44:58,072 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Waiting for 3 seconds...
2013-03-11 11:44:59,074 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-03-11T15:44:59.000Z"} , "myState" : 2 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "uptime" : 12 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 6 , "stateStr" : "UNKNOWN" , "uptime" : 2 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:44:57.000Z"} , "pingMs" : 1 , "errmsg" : "still initializing"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 6 , "stateStr" : "UNKNOWN" , "uptime" : 2 , "lastHeartbeat" : { "$date" : "2013-03-11T15:44:57.000Z"} , "pingMs" : 1 , "errmsg" : "still initializing"}] , "ok" : 1.0}
2013-03-11 11:44:59,075 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "uptime" : 12 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true}
2013-03-11 11:44:59,075 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 2
2013-03-11 11:44:59,076 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 6 , "stateStr" : "UNKNOWN" , "uptime" : 2 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:44:57.000Z"} , "pingMs" : 1 , "errmsg" : "still initializing"}
2013-03-11 11:44:59,076 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 6
2013-03-11 11:44:59,076 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Waiting for 3 seconds...
2013-03-11 11:45:00,079 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-03-11T15:45:00.000Z"} , "myState" : 2 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "uptime" : 13 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 3 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:44:59.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 6 , "stateStr" : "UNKNOWN" , "uptime" : 3 , "lastHeartbeat" : { "$date" : "2013-03-11T15:44:59.000Z"} , "pingMs" : 0 , "errmsg" : "still initializing"}] , "ok" : 1.0}
2013-03-11 11:45:00,080 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "uptime" : 13 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true}
2013-03-11 11:45:00,080 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 2
2013-03-11 11:45:00,080 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 3 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:44:59.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-03-11 11:45:00,080 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 5
2013-03-11 11:45:00,080 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Waiting for 3 seconds...
2013-03-11 11:45:01,083 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-03-11T15:45:01.000Z"} , "myState" : 2 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "uptime" : 14 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 4 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:44:59.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 6 , "stateStr" : "UNKNOWN" , "uptime" : 4 , "lastHeartbeat" : { "$date" : "2013-03-11T15:44:59.000Z"} , "pingMs" : 0 , "errmsg" : "still initializing"}] , "ok" : 1.0}
2013-03-11 11:45:01,084 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "uptime" : 14 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true}
2013-03-11 11:45:01,084 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 2
2013-03-11 11:45:01,084 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 4 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:44:59.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-03-11 11:45:01,085 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 5
2013-03-11 11:45:01,085 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Waiting for 3 seconds...
2013-03-11 11:45:02,088 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-03-11T15:45:02.000Z"} , "myState" : 2 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "uptime" : 15 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 5 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:01.000Z"} , "pingMs" : 1 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 5 , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:01.000Z"} , "pingMs" : 1}] , "ok" : 1.0}
2013-03-11 11:45:02,088 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "uptime" : 15 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true}
2013-03-11 11:45:02,088 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 2
2013-03-11 11:45:02,089 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 5 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:01.000Z"} , "pingMs" : 1 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-03-11 11:45:02,089 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 5
2013-03-11 11:45:02,089 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Waiting for 3 seconds...
2013-03-11 11:45:03,092 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-03-11T15:45:03.000Z"} , "myState" : 2 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "uptime" : 16 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 6 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:01.000Z"} , "pingMs" : 1 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 6 , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:01.000Z"} , "pingMs" : 1}] , "ok" : 1.0}
2013-03-11 11:45:03,093 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "uptime" : 16 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true}
2013-03-11 11:45:03,093 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 2
2013-03-11 11:45:03,094 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 6 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:01.000Z"} , "pingMs" : 1 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-03-11 11:45:03,094 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 5
2013-03-11 11:45:03,095 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Waiting for 3 seconds...
2013-03-11 11:45:04,098 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-03-11T15:45:04.000Z"} , "myState" : 2 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "uptime" : 17 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 7 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:03.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 7 , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:03.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-03-11 11:45:04,099 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "uptime" : 17 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true}
2013-03-11 11:45:04,099 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 2
2013-03-11 11:45:04,099 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 7 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:03.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-03-11 11:45:04,099 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 5
2013-03-11 11:45:04,099 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Waiting for 3 seconds...
2013-03-11 11:45:05,102 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-03-11T15:45:05.000Z"} , "myState" : 2 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "uptime" : 18 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 8 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:03.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 8 , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:03.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-03-11 11:45:05,102 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "uptime" : 18 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true}
2013-03-11 11:45:05,102 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 2
2013-03-11 11:45:05,103 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 8 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:03.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-03-11 11:45:05,103 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 5
2013-03-11 11:45:05,103 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Waiting for 3 seconds...
2013-03-11 11:45:06,106 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-03-11T15:45:06.000Z"} , "myState" : 2 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "uptime" : 19 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 9 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:05.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 9 , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:05.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-03-11 11:45:06,107 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "uptime" : 19 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true}
2013-03-11 11:45:06,107 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 2
2013-03-11 11:45:06,108 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 9 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:05.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-03-11 11:45:06,108 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 5
2013-03-11 11:45:06,108 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Waiting for 3 seconds...
2013-03-11 11:45:07,110 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-03-11T15:45:07.000Z"} , "myState" : 2 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "uptime" : 20 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 10 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:05.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 10 , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:05.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-03-11 11:45:07,111 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "uptime" : 20 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true}
2013-03-11 11:45:07,111 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 2
2013-03-11 11:45:07,111 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 10 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:05.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-03-11 11:45:07,112 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 5
2013-03-11 11:45:07,112 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Waiting for 3 seconds...
2013-03-11 11:45:08,114 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-03-11T15:45:08.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "uptime" : 21 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 11 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:07.000Z"} , "pingMs" : 1 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 11 , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:07.000Z"} , "pingMs" : 1}] , "ok" : 1.0}
2013-03-11 11:45:08,115 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "uptime" : 21 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true}
2013-03-11 11:45:08,115 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 1
2013-03-11 11:45:08,116 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 11 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:07.000Z"} , "pingMs" : 1 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-03-11 11:45:08,116 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 5
2013-03-11 11:45:08,116 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Waiting for 3 seconds...
2013-03-11 11:45:09,118 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-03-11T15:45:09.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "uptime" : 22 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 12 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:07.000Z"} , "pingMs" : 1 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 12 , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:07.000Z"} , "pingMs" : 1}] , "ok" : 1.0}
2013-03-11 11:45:09,119 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "uptime" : 22 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true}
2013-03-11 11:45:09,119 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 1
2013-03-11 11:45:09,119 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 5 , "stateStr" : "STARTUP2" , "uptime" : 12 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:07.000Z"} , "pingMs" : 1 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-03-11 11:45:09,120 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 5
2013-03-11 11:45:09,120 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Waiting for 3 seconds...
2013-03-11 11:45:10,122 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-03-11T15:45:10.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "uptime" : 23 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 13 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:09.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 13 , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:09.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-03-11 11:45:10,123 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "uptime" : 23 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true}
2013-03-11 11:45:10,123 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 1
2013-03-11 11:45:10,124 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 13 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:09.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-03-11 11:45:10,124 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 3
2013-03-11 11:45:10,124 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Waiting for 3 seconds...
2013-03-11 11:45:11,127 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-03-11T15:45:11.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "uptime" : 24 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 14 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:09.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 14 , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:09.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-03-11 11:45:11,127 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "uptime" : 24 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true}
2013-03-11 11:45:11,127 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 1
2013-03-11 11:45:11,128 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 14 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:09.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-03-11 11:45:11,128 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 3
2013-03-11 11:45:11,128 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Waiting for 3 seconds...
2013-03-11 11:45:12,130 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-03-11T15:45:12.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "uptime" : 25 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 15 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:11.000Z"} , "pingMs" : 1 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 15 , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:11.000Z"} , "pingMs" : 1}] , "ok" : 1.0}
2013-03-11 11:45:12,131 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "uptime" : 25 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true}
2013-03-11 11:45:12,131 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 1
2013-03-11 11:45:12,132 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 15 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:11.000Z"} , "pingMs" : 1 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-03-11 11:45:12,132 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 3
2013-03-11 11:45:12,132 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Waiting for 3 seconds...
2013-03-11 11:45:13,135 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-03-11T15:45:13.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "uptime" : 26 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 16 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:11.000Z"} , "pingMs" : 1 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 16 , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:11.000Z"} , "pingMs" : 1}] , "ok" : 1.0}
2013-03-11 11:45:13,135 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "uptime" : 26 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true}
2013-03-11 11:45:13,135 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 1
2013-03-11 11:45:13,136 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 16 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:11.000Z"} , "pingMs" : 1 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-03-11 11:45:13,136 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 3
2013-03-11 11:45:13,136 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Waiting for 3 seconds...
2013-03-11 11:45:14,139 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-03-11T15:45:14.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "uptime" : 27 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 17 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:13.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 17 , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:13.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-03-11 11:45:14,140 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "uptime" : 27 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true}
2013-03-11 11:45:14,140 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 1
2013-03-11 11:45:14,140 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 17 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:13.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-03-11 11:45:14,140 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 3
2013-03-11 11:45:14,140 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Waiting for 3 seconds...
2013-03-11 11:45:15,144 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-03-11T15:45:15.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "uptime" : 28 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 18 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:13.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 18 , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:13.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-03-11 11:45:15,145 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "uptime" : 28 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true}
2013-03-11 11:45:15,145 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 1
2013-03-11 11:45:15,146 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 18 , "optime" : { "$ts" : 0 , "$inc" : 0} , "optimeDate" : { "$date" : "1970-01-01T00:00:00.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:13.000Z"} , "pingMs" : 0 , "errmsg" : "initial sync need a member to be primary or secondary to do our initial sync"}
2013-03-11 11:45:15,146 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 3
2013-03-11 11:45:15,146 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Waiting for 3 seconds...
2013-03-11 11:45:16,148 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-03-11T15:45:16.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "uptime" : 29 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 19 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:15.000Z"} , "pingMs" : 1 , "errmsg" : "initial sync done"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 19 , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:15.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-03-11 11:45:16,149 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "uptime" : 29 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true}
2013-03-11 11:45:16,149 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 1
2013-03-11 11:45:16,150 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 19 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:15.000Z"} , "pingMs" : 1 , "errmsg" : "initial sync done"}
2013-03-11 11:45:16,150 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 3
2013-03-11 11:45:16,150 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Waiting for 3 seconds...
2013-03-11 11:45:17,154 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-03-11T15:45:17.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "uptime" : 30 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 20 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:15.000Z"} , "pingMs" : 1 , "errmsg" : "initial sync done"} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 20 , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:15.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-03-11 11:45:17,154 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "uptime" : 30 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true}
2013-03-11 11:45:17,155 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 1
2013-03-11 11:45:17,155 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 3 , "stateStr" : "RECOVERING" , "uptime" : 20 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:15.000Z"} , "pingMs" : 1 , "errmsg" : "initial sync done"}
2013-03-11 11:45:17,155 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 3
2013-03-11 11:45:17,155 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - Waiting for 3 seconds...
2013-03-11 11:45:18,157 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - replSetGetStatus: { "serverUsed" : "localhost/127.0.0.1:37017" , "set" : "rep1" , "date" : { "$date" : "2013-03-11T15:45:18.000Z"} , "myState" : 1 , "members" : [ { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "uptime" : 31 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true} , { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "uptime" : 21 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:17.000Z"} , "pingMs" : 1} , { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 21 , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:17.000Z"} , "pingMs" : 0}] , "ok" : 1.0}
2013-03-11 11:45:18,158 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 0 , "name" : "localhost:37017" , "health" : 1.0 , "state" : 1 , "stateStr" : "PRIMARY" , "uptime" : 31 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "self" : true}
2013-03-11 11:45:18,158 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 1
2013-03-11 11:45:18,159 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 1 , "name" : "localhost:37018" , "health" : 1.0 , "state" : 2 , "stateStr" : "SECONDARY" , "uptime" : 21 , "optime" : { "$ts" : 1363016692 , "$inc" : 1} , "optimeDate" : { "$date" : "2013-03-11T15:44:52.000Z"} , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:17.000Z"} , "pingMs" : 1}
2013-03-11 11:45:18,159 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 2
2013-03-11 11:45:18,159 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - { "_id" : 2 , "name" : "localhost:37019" , "health" : 1.0 , "state" : 7 , "stateStr" : "ARBITER" , "uptime" : 21 , "lastHeartbeat" : { "$date" : "2013-03-11T15:45:17.000Z"} , "pingMs" : 0}
2013-03-11 11:45:18,159 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.script.RiverMongoScriptTest  - state: 7
2013-03-11 11:45:18,178 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.simple.RiverMongoDBTest  - createDatabase testriver
2013-03-11 11:45:18,179 INFO  org.elasticsearch.test.elasticsearch.plugin.river.mongodb.simple.RiverMongoDBTest  - Create river [testmongodb]
2013-03-11 11:45:18,179 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.simple.RiverMongoDBTest  - Get river setting
2013-03-11 11:45:18,181 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.simple.RiverMongoDBTest  - River setting: {
	"type": "mongodb",
	"mongodb": {
		"servers": [{ 
			"host": "localhost",
			"port": 37017
		},
		{ 
			"host": "localhost",
			"port": 37018
		},
		{ 
			"host": "localhost",
			"port": 37019
		}],
		"options": {
			"secondary_read_preference": true
		},
		"db": "testriver",
		"collection": "person",
		"gridfs": false
	},
	"index": {
		"name": "personindex",
		"throttle_size": 2000
	}
}
2013-03-11 11:45:18,346 INFO  org.elasticsearch.cluster.metadata  - [Lifter] [_river] creating index, cause [auto(index api)], shards [1]/[1], mappings []
2013-03-11 11:45:18,589 DEBUG org.elasticsearch.test.elasticsearch.plugin.river.mongodb.simple.RiverMongoDBTest  - Running Cluster Health
2013-03-11 11:45:18,596 INFO  org.elasticsearch.cluster.metadata  - [Lifter] [_river] update_mapping [testmongodb] (dynamic)
2013-03-11 11:45:18,614 DEBUG org.elasticsearch.river.mongodb  - [Lifter] [mongodb][testmongodb] Prefix: [[Lifter] [mongodb][testmongodb] ] - name: [org.elasticsearch.river.mongodb]
2013-03-11 11:45:18,614 DEBUG org.elasticsearch.river.mongodb  - River settings: 
2013-03-11 11:45:18,614 INFO  org.elasticsearch.river.mongodb  - [Lifter] [mongodb][testmongodb] mongoServersSettings: [{port=37017, host=localhost}, {port=37018, host=localhost}, {port=37019, host=localhost}]
2013-03-11 11:45:18,614 INFO  org.elasticsearch.river.mongodb  - [Lifter] [mongodb][testmongodb] Server: localhost - 37017
2013-03-11 11:45:18,614 INFO  org.elasticsearch.river.mongodb  - [Lifter] [mongodb][testmongodb] Server: localhost - 37018
2013-03-11 11:45:18,614 INFO  org.elasticsearch.river.mongodb  - [Lifter] [mongodb][testmongodb] Server: localhost - 37019
2013-03-11 11:45:18,615 INFO  org.elasticsearch.river.mongodb  - [Lifter] [mongodb][testmongodb] Using mongodb server(s): host [localhost], port [37017]
2013-03-11 11:45:18,615 INFO  org.elasticsearch.river.mongodb  - [Lifter] [mongodb][testmongodb] Using mongodb server(s): host [localhost], port [37018]
2013-03-11 11:45:18,615 INFO  org.elasticsearch.river.mongodb  - [Lifter] [mongodb][testmongodb] Using mongodb server(s): host [localhost], port [37019]
2013-03-11 11:45:18,615 INFO  org.elasticsearch.river.mongodb  - [Lifter] [mongodb][testmongodb] starting mongodb stream. options: secondaryreadpreference [true], throttlesize [2000], gridfs [false], filter [], db [testriver], script [null], indexing to [personindex]/[testriver]
2013-03-11 11:45:18,642 INFO  org.elasticsearch.cluster.metadata  - [Lifter] [personindex] creating index, cause [api], shards [5]/[1], mappings []
2013-03-11 11:45:18,802 INFO  org.elasticsearch.cluster.metadata  - [Lifter] [_river] update_mapping [testmongodb] (dynamic)
2013-03-11 11:45:18,811 INFO  org.elasticsearch.river.mongodb  - [Lifter] [mongodb][testmongodb] No known previous slurping time for this collection
2013-03-11 11:45:18,811 DEBUG org.elasticsearch.river.mongodb  - [Lifter] [mongodb][testmongodb] Using filter: { "$and" : [ { "ns" : "testriver.person"}]}
